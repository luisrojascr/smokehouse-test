!function(){"use strict";function e(e){var t=new XMLHttpRequest;t.open("GET","js/menu/menu.json",!0),t.onreadystatechange=function(){4==t.readyState&&"200"==t.status&&e(t.responseText)},t.send()}function t(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function n(e,t){var n=[];e=e.parentNode.firstChild;do(!t||t(e))&&n.push(e);while(e=e.nextSibling);return n}var d,i,o=1.3,r=.33,a=0,c=0,l=0,s=0,u=0;e(function(e){for(var n=JSON.parse(e),d=document.getElementById("content"),i=0;i<n.length;i++){var o=n[i];if(d.innerHTML+="<div class='product' id='product-"+i+"'><p class='title'>"+o.title+"</p><p class='description'>"+o.description+"</p><a onclick='addCart(this)' id='btn-"+i+"' class='add-btn btn btn-success'>Add</a><span><strong>Price: </strong></span><span id='price' class='price'>"+o.price+"</span></div>",!t(o.modifiers)){document.getElementById("product-"+i).innerHTML+="<div class='modifiers' id='modifiers'></div>";for(var r=0;r<o.modifiers.length;r++){var a=o.modifiers[r];document.getElementById("modifiers").innerHTML+="<div>"+a.title+"</div>";for(var c=0;c<a.mods.length;c++){var l=a.mods[c];document.getElementById("modifiers").innerHTML+="<input type='checkbox' onclick='OnChangeCheckbox (this)'><label>"+l.title+"</label></input>"}}}}}),window.addCart=function(e){var t,r=n(e);c=parseFloat(r[4].innerText),s+=c,t=parseInt(e.dataset.clicked)+1,e.hasAttribute("data-clicked")?document.getElementById("quantity-"+e.id).innerHTML=t:document.getElementById("product-list").innerHTML+="<tr class='"+e.id+"'><td id='quantity-"+e.id+"'>1</td> <td>"+r[0].innerText+"</td><td id='price-"+e.id+"'>"+c+"</td></tr>",d=e.id,a=parseInt(a)+1,i=.15*s,l=s+i+o,document.getElementById("delivery").innerHTML=o,document.getElementById("taxes").innerHTML="$"+i.toFixed(2),document.getElementById("total").innerHTML="$"+l.toFixed(2)},window.onload=function(){function e(){var e=document.getElementById("default-list");e&&e.parentNode.removeChild(e),this.hasAttribute("data-clicked")?(u+=1,this.setAttribute("data-clicked",u)):(u=1,this.setAttribute("data-clicked",u)),0!==parseFloat(document.getElementById("total").innerHTML)&&(document.getElementById("checkout").style.display="block",window.placeOrder=function(){document.getElementById("payment").value?(t=parseFloat(document.getElementById("payment").value),document.getElementById("yourChange").innerHTML+=l.toFixed(2)-t.toFixed(2),document.getElementById("error").style.display="none"):document.getElementById("error").innerHTML="Please add an invalid amount."})}for(var t,n,d=document.querySelectorAll(".add-btn"),i=0,o=0,a=0;a<d.length;a++)d[a].addEventListener("click",e,!1),document.getElementsByClassName("quantity-btn-"+a).innerHTML=0;window.OnChangeCheckbox=function(e){e.checked?(o+=parseFloat(i)+parseFloat(r),console.log("modifier: "+o.toFixed(2)),n=document.getElementById("price-btn-0").innerHTML,n=parseFloat(n)+o):(o=parseFloat(o)-parseFloat(r),console.log("modifier: "+o.toFixed(2)),n=parseFloat(n)-o),document.getElementById("price-btn-0").innerHTML=n.toFixed(2)}}}();